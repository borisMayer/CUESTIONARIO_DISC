<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discus Cl√°sico - Evaluaci√≥n de Personalidad</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Helvetica', sans-serif; }
        .section { margin-bottom: 2rem; }
        .section-title { font-size: 1.5rem; font-weight: bold; color: #2d3748; }
        .subsection-title { font-size: 1.25rem; font-weight: bold; color: #4a5568; }
        .list-item { margin-bottom: 0.5rem; }
        .profile-graph {
            width: 300px;
            height: 200px;
            border: 2px solid #ccc;
            margin: 10px 0;
            position: relative;
            background: #f9f9f9;
        }
        .graph-line {
            position: absolute;
            height: 2px;
            background: #333;
        }
        .graph-point {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            position: absolute;
            transform: translate(-50%, -50%);
        }
        .disc-d { background-color: #dc3545; }
        .disc-i { background-color: #ffc107; }
        .disc-s { background-color: #28a745; }
        .disc-c { background-color: #007bff; }
        .evaluation-container {
            display: none;
        }
        .evaluation-container.active {
            display: block;
        }
        .hidden-section {
            display: none;
        }
        .question-block {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .question-block h3 {
            background: #f8f9fa;
            padding: 15px 20px;
            margin: 0;
            border-bottom: 1px solid #dee2e6;
        }
        .question-table {
            width: 100%;
            border-collapse: collapse;
        }
        .question-table th {
            background: #f1f3f4;
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
        }
        .question-table td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        .question-table td:first-child {
            width: 60%;
            text-align: left;
        }
        .question-table td:not(:first-child) {
            text-align: center;
            width: 20%;
        }
        .form-control {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
        }
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            border: none;
            font-size: 16px;
        }
        .btn-primary:hover {
            background-color: #0056b3;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-fill {
            height: 100%;
            background-color: #007bff;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Evaluation Section -->
    <div id="evaluation-section" class="evaluation-container active">
        <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-lg mt-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800">Discus Cl√°sico</h1>
                <h2 class="text-2xl font-semibold text-gray-700 mt-2">Evaluaci√≥n de Personalidad</h2>
            </div>
            <!-- Candidate Information -->
            <div class="section bg-gray-50 p-6 rounded-lg mb-6">
                <h2 class="section-title mb-4">Informaci√≥n del Candidato</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Nombre Completo:</label>
                        <input type="text" id="candidateName" class="form-control" placeholder="Ingrese su nombre completo">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Fecha de An√°lisis:</label>
                        <input type="date" id="analysisDate" class="form-control" value="2025-08-11">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">G√©nero:</label>
                        <select id="gender" class="form-control">
                            <option value="">Seleccione...</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Femenino">Femenino</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Posici√≥n/Cargo:</label>
                        <input type="text" id="position" class="form-control" placeholder="Su posici√≥n actual">
                    </div>
                </div>
            </div>
            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%;"></div>
            </div>
            <p class="text-center text-sm text-gray-600 mb-6">Progreso: <span id="progressText">0 de 24 bloques completados</span></p>
            <!-- Instructions -->
            <div class="bg-blue-50 p-6 rounded-lg mb-6">
                <h3 class="text-lg font-semibold text-blue-900 mb-3">Instrucciones de Evaluaci√≥n</h3>
                <p class="text-blue-800 mb-2">Para cada bloque de 4 declaraciones:</p>
                <ul class="list-disc list-inside text-blue-800 text-sm">
                    <li>Seleccione UNA declaraci√≥n en la columna "M√°s" que mejor lo describa</li>
                    <li>Seleccione UNA declaraci√≥n en la columna "Menos" que menos lo describa</li>
                    <li>No puede seleccionar la misma declaraci√≥n para ambas columnas</li>
                    <li>Responda instintivamente, sin analizar demasiado</li>
                </ul>
            </div>
            <!-- Questions Container -->
            <div id="questionsContainer"></div>
            <div class="text-center mt-6">
                <button id="generateReport" class="btn-primary" onclick="generateReport()" disabled>
                    Generar Informe Completo
                </button>
            </div>
        </div>
    </div>
    <!-- Report Section -->
    <div id="report-section" class="evaluation-container">
        <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-lg mt-8">
            <div id="reportContent"></div>
        </div>
    </div>
    <script>
        const discQuestions = [
            ["Soy muy decidido y orientado a resultados.", "Me gusta inspirar y motivar a otros.", "Prefiero trabajar en equipo y colaborar.", "Soy muy anal√≠tico y detallista."],
            ["Tomo decisiones r√°pidas bajo presi√≥n.", "Me apasiona generar nuevas ideas.", "Me gusta mantener la armon√≠a en el grupo.", "Sigo procedimientos establecidos cuidadosamente."],
            ["Me gusta liderar proyectos con autoridad.", "Disfruto socializar y construir relaciones.", "Valoro la estabilidad y la consistencia.", "Me aseguro de que todo est√© bien documentado."],
            ["Asumo riesgos para lograr objetivos.", "Me entusiasmo compartiendo mi visi√≥n.", "Prefiero un ambiente de trabajo predecible.", "Analizo datos antes de tomar decisiones."],
            ["Me enfoco en resultados m√°s que en procesos.", "Influyo en otros con mi entusiasmo.", "Soy paciente en situaciones dif√≠ciles.", "Me aseguro de cumplir con las normas."],
            ["Tomo la iniciativa en situaciones inciertas.", "Me gusta persuadir a otros con ideas.", "Apoyo a mis compa√±eros de manera constante.", "Me concentro en la precisi√≥n de mi trabajo."],
            ["Busco soluciones r√°pidas y efectivas.", "Disfruto ser el centro de atenci√≥n.", "Me gusta trabajar en un equipo unido.", "Prefiero seguir m√©todos probados."],
            ["Me enfrento a desaf√≠os con confianza.", "Motivo a otros con mi optimismo.", "Valoro la cooperaci√≥n sobre la competencia.", "Me aseguro de evitar errores en mi trabajo."],
            ["Persigo metas con determinaci√≥n.", "Soy expresivo y comunicativo.", "Prefiero un ritmo de trabajo constante.", "Me enfoco en los detalles t√©cnicos."],
            ["Me gusta tomar el control en proyectos.", "Disfruto inspirando a mi equipo.", "Me siento c√≥modo en roles de apoyo.", "Valoro la exactitud en mis tareas."],
            ["Asumo la responsabilidad de los resultados.", "Me gusta generar entusiasmo en otros.", "Prefiero evitar conflictos en el trabajo.", "Me aseguro de seguir las reglas al pie de la letra."],
            ["Tomo decisiones basadas en objetivos claros.", "Me gusta influir en las opiniones de otros.", "Valoro la armon√≠a en el entorno laboral.", "Me concentro en la calidad del trabajo."],
            ["Me motiva alcanzar metas ambiciosas.", "Disfruto de un entorno social din√°mico.", "Me gusta contribuir al √©xito del equipo.", "Prefiero planificar cuidadosamente mis tareas."],
            ["Me enfrento a retos con decisi√≥n.", "Me gusta motivar a otros con ideas nuevas.", "Soy confiable en mis responsabilidades.", "Me aseguro de que todo est√© bien organizado."],
            ["Persigo resultados con enfoque directo.", "Disfruto compartir mi entusiasmo.", "Me gusta trabajar en un ambiente estable.", "Me concentro en cumplir con est√°ndares."],
            ["Tomo el liderazgo en situaciones cr√≠ticas.", "Me gusta influir positivamente en otros.", "Valoro la consistencia en mi trabajo.", "Me aseguro de que todo sea preciso."],
            ["Me enfoco en resolver problemas r√°pido.", "Disfruto promover ideas innovadoras.", "Prefiero un entorno laboral predecible.", "Me concentro en la exactitud de los datos."],
            ["Asumo riesgos calculados para avanzar.", "Me gusta inspirar con mi energ√≠a.", "Soy paciente y apoyo al equipo.", "Me aseguro de seguir procedimientos claros."],
            ["Me gusta dirigir con autoridad.", "Disfruto de un entorno social activo.", "Valoro la estabilidad en el trabajo.", "Me concentro en evitar errores."],
            ["Tomo decisiones con confianza.", "Me gusta motivar con mi entusiasmo.", "Prefiero un rol de apoyo en el equipo.", "Me aseguro de que todo est√© bien estructurado."],
            ["Me enfoco en lograr resultados r√°pidos.", "Disfruto influir con mi comunicaci√≥n.", "Valoro la cooperaci√≥n en el equipo.", "Me concentro en la precisi√≥n t√©cnica."],
            ["Persigo objetivos con determinaci√≥n.", "Me gusta generar ideas inspiradoras.", "Soy confiable y constante en mi trabajo.", "Me aseguro de cumplir con las expectativas."],
            ["Tomo el control en situaciones ambiguas.", "Disfruto motivar a otros con mi visi√≥n.", "Prefiero un entorno laboral estructurado.", "Me concentro en los detalles del proceso."],
            ["Me enfrento a desaf√≠os con resoluci√≥n.", "Me gusta influir con mi carisma.", "Valoro la estabilidad y el trabajo en equipo.", "Me aseguro de que todo sea exacto."]
        ];
        let responses = {};
        let completedBlocks = 0;
        function initializeQuestions() {
            const container = document.getElementById('questionsContainer');

            discQuestions.forEach((block, blockIndex) => {
                const blockDiv = document.createElement('div');
                blockDiv.className = 'question-block';
                blockDiv.innerHTML = `
                    <h3>Bloque ${blockIndex + 1} de ${discQuestions.length}</h3>
                    <table class="question-table">
                        <thead>
                            <tr>
                                <th>Declaraci√≥n</th>
                                <th>M√°s como yo</th>
                                <th>Menos como yo</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${block.map((statement, statementIndex) => `
                                <tr>
                                    <td>${statement}</td>
                                    <td><input type="radio" name="most_${blockIndex}" value="${statementIndex}" onchange="validateBlock(${blockIndex})"></td>
                                    <td><input type="radio" name="least_${blockIndex}" value="${statementIndex}" onchange="validateBlock(${blockIndex})"></td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
                container.appendChild(blockDiv);
            });
        }
        function validateBlock(blockIndex) {
            const mostSelected = document.querySelector(`input[name='most_${blockIndex}']:checked`);
            const leastSelected = document.querySelector(`input[name='least_${blockIndex}']:checked`);

            if (mostSelected && leastSelected) {
                if (mostSelected.value === leastSelected.value) {
                    alert('No puede seleccionar la misma declaraci√≥n para ambas columnas.');
                    leastSelected.checked = false;
                    return;
                }

                responses[blockIndex] = {
                    most: parseInt(mostSelected.value),
                    least: parseInt(leastSelected.value)
                };
            } else if (responses[blockIndex]) {
                delete responses[blockIndex];
            }

            updateProgress();
        }
        function updateProgress() {
            completedBlocks = Object.keys(responses).length;
            const progress = (completedBlocks / discQuestions.length) * 100;

            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${completedBlocks} de ${discQuestions.length} bloques completados`;

            document.getElementById('generateReport').disabled = completedBlocks < discQuestions.length;
        }
        function calculateDISCScores() {
            let internalScores = {D: 0, I: 0, S: 0, C: 0};
            let externalScores = {D: 0, I: 0, S: 0, C: 0};

            const factors = ['D', 'I', 'S', 'C'];

            Object.keys(responses).forEach(blockIndex => {
                const response = responses[blockIndex];
                const mostFactor = factors[response.most];
                const leastFactor = factors[response.least];

                if (parseInt(blockIndex) < 12) {
                    internalScores[mostFactor] += 1;
                    internalScores[leastFactor] -= 1;
                } else {
                    externalScores[mostFactor] += 1;
                    externalScores[leastFactor] -= 1;
                }
            });

            return {internal: internalScores, external: externalScores};
        }
        function normalizeScore(score) {
            return Math.max(0, Math.min(100, ((score + 12) / 24) * 100));
        }
        function determineProfileType(scores) {
            const factors = Object.keys(scores);
            factors.sort((a, b) => scores[b] - scores[a]);

            const primary = factors[0];
            const secondary = factors[1];

            if (scores[primary] - scores[secondary] > 15) {
                return primary;
            } else {
                return `${primary}${secondary}`;
            }
        }
        function getPersonalityTraits(profileType) {
            const traits = {
                'D': ['Decidido', 'Directo', 'Competitivo', 'Orientado a resultados', 'Independiente'],
                'I': ['Entusiasta', 'Persuasivo', 'Sociable', 'Optimista', 'Comunicativo'],
                'S': ['Estable', 'Paciente', 'Cooperativo', 'Leal', 'Sistem√°tico'],
                'C': ['Anal√≠tico', 'Preciso', 'Consciente', 'Sistem√°tico', 'Prudente'],
                'DS': ['Decidido', 'Sistem√°tico', 'Directo', 'Estable', 'Competitivo'],
                'DC': ['Decidido', 'Anal√≠tico', 'Orientado a resultados', 'Preciso', 'Independiente'],
                'DI': ['Decidido', 'Entusiasta', 'Competitivo', 'Persuasivo', 'Directo'],
                'IS': ['Entusiasta', 'Estable', 'Sociable', 'Paciente', 'Cooperativo'],
                'IC': ['Entusiasta', 'Anal√≠tico', 'Persuasivo', 'Consciente', 'Comunicativo'],
                'SC': ['Estable', 'Anal√≠tico', 'Paciente', 'Preciso', 'Sistem√°tico'],
                'CD': ['Anal√≠tico', 'Decidido', 'Preciso', 'Orientado a resultados', 'Sistem√°tico'],
                'CI': ['Anal√≠tico', 'Entusiasta', 'Preciso', 'Comunicativo', 'Consciente'],
                'CS': ['Anal√≠tico', 'Estable', 'Preciso', 'Paciente', 'Sistem√°tico'],
                'SD': ['Estable', 'Decidido', 'Paciente', 'Directo', 'Cooperativo']
            };

            return traits[profileType] || traits['S'];
        }
        function generateReport() {
            const candidateName = document.getElementById('candidateName').value || 'Candidato';
            const analysisDate = document.getElementById('analysisDate').value;
            const gender = document.getElementById('gender').value || 'No especificado';
            const position = document.getElementById('position').value || '';

            const scores = calculateDISCScores();
            const internalNormalized = {
                D: Math.round(normalizeScore(scores.internal.D)),
                I: Math.round(normalizeScore(scores.internal.I)),
                S: Math.round(normalizeScore(scores.internal.S)),
                C: Math.round(normalizeScore(scores.internal.C))
            };

            const externalNormalized = {
                D: Math.round(normalizeScore(scores.external.D)),
                I: Math.round(normalizeScore(scores.external.I)),
                S: Math.round(normalizeScore(scores.external.S)),
                C: Math.round(normalizeScore(scores.external.C))
            };

            const summaryScores = {
                D: Math.round((internalNormalized.D + externalNormalized.D) / 2),
                I: Math.round((internalNormalized.I + externalNormalized.I) / 2),
                S: Math.round((internalNormalized.S + externalNormalized.S) / 2),
                C: Math.round((internalNormalized.C + externalNormalized.C) / 2)
            };

            const changePattern = {
                D: externalNormalized.D - internalNormalized.D,
                I: externalNormalized.I - internalNormalized.I,
                S: externalNormalized.S - internalNormalized.S,
                C: externalNormalized.C - internalNormalized.C
            };

            const internalProfile = determineProfileType(internalNormalized);
            const externalProfile = determineProfileType(externalNormalized);
            const summaryProfile = determineProfileType(summaryScores);

            const personalityTraits = getPersonalityTraits(summaryProfile);

            const reportHTML = `
                <!-- Title Section -->
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-800">Discus Cl√°sico Perfil de Personalidad Informe</h1>
                    <h2 class="text-2xl font-semibold text-gray-700 mt-2">${candidateName}</h2>
                    <p class="text-gray-600">Fecha: ${new Date(analysisDate).toLocaleDateString('es-ES', {year: 'numeric', month: 'long', day: 'numeric'})}</p>
                    <p class="text-gray-500 italic">Este informe est√° basado en el sistema DISC cl√°sico.</p>
                </div>
                <!-- Candidate Details -->
                <div class="section">
                    <h2 class="section-title">Detalles del Candidato</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <p><strong>Nombre:</strong> ${candidateName}</p>
                        <p><strong>Fecha de An√°lisis:</strong> ${new Date(analysisDate).toLocaleDateString('es-ES', {year: 'numeric', month: 'long', day: 'numeric'})}</p>
                        <p><strong>G√©nero:</strong> ${gender}</p>
                        <p><strong>Posici√≥n:</strong> ${position || 'No especificado'}</p>
                    </div>
                    <h3 class="subsection-title mt-4">De un Vistazo</h3>
                    <ul class="list-disc list-inside">
                        ${personalityTraits.map(trait => `<li class="list-item">${trait}</li>`).join('')}
                    </ul>
                </div>
                <!-- Introduction -->
                <div class="section">
                    <h2 class="section-title">Introducci√≥n</h2>
                    <p>Este informe est√° dise√±ado para proporcionar una visi√≥n general completa de la personalidad y el comportamiento de ${candidateName} desde m√∫ltiples perspectivas. Utiliza contenido gr√°fico y textual para mostrar c√≥mo es probable que ${candidateName.split(' ')[0]} reaccione en diferentes situaciones laborales. El informe incluye una serie de an√°lisis gr√°ficos, como la serie completa de perfiles DISC, un an√°lisis detallado de los cuatro factores DISC, un an√°lisis de la tarjeta de estilo, un resumen de rasgos y una mirada a la tensi√≥n del perfil actual.</p>
                </div>
                <!-- DISC Profile Series -->
                <div class="section">
                    <h2 class="section-title">Serie de Perfiles de DISC</h2>
                    <div class="bg-blue-50 p-4 rounded-lg mb-4">
                        <p class="text-blue-900"><strong>¬øQu√© son los perfiles DISC?</strong></p>
                        <p class="text-blue-800 text-sm mt-1">Imagina que tienes dos "versiones" de ti mismo: c√≥mo eres naturalmente en casa con amigos (Perfil Interno) y c√≥mo crees que debes actuar en el trabajo (Perfil Externo). El DISC analiza estas diferencias para ayudarte a entender tu comportamiento.</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                        <div class="bg-white border-2 border-green-200 rounded-lg p-4 hidden-section" id="internalProfileSection">
                            <h3 class="subsection-title text-green-700">üè† Perfil Interno - "C√≥mo soy realmente"</h3>
                            <p class="text-green-600 text-sm mb-2"><strong>Tipo:</strong> ${internalProfile}</p>
                            <div class="bg-green-50 p-4 rounded">
                                <div class="grid grid-cols-4 gap-2 text-center text-sm">
                                    <div><strong class="text-red-600">D</strong><br>${internalNormalized.D}%</div>
                                    <div><strong class="text-yellow-600">I</strong><br>${internalNormalized.I}%</div>
                                    <div><strong class="text-green-600">S</strong><br>${internalNormalized.S}%</div>
                                    <div><strong class="text-blue-600">C</strong><br>${internalNormalized.C}%</div>
                                </div>
                            </div>
                            <div class="mt-3 text-sm">
                                <p><strong>¬øQu√© significa?</strong> Es tu "yo aut√©ntico" - c√≥mo te comportas cuando est√°s relajado, con familia o amigos, sin presi√≥n externa.</p>
                                <p class="mt-2"><strong>Ejemplo:</strong> ${internalProfile.includes('D') ? 'En casa, naturalmente tomas el control de las decisiones familiares y planificas las actividades.' : internalProfile.includes('I') ? 'Con tus amigos, eres quien organiza las reuniones y animas a todos con tu energ√≠a.' : internalProfile.includes('S') ? 'En tu c√≠rculo cercano, eres quien mantiene la paz y apoya a todos emocionalmente.' : 'Naturalmente organizas tu hogar con sistemas y te aseguras de que todo est√© en orden.'}</p>
                            </div>
                        </div>

                        <div class="bg-white border-2 border-blue-200 rounded-lg p-4 hidden-section" id="externalProfileSection">
                            <h3 class="subsection-title text-blue-700">üíº Perfil Externo - "C√≥mo creo que debo ser en el trabajo"</h3>
                            <p class="text-blue-600 text-sm mb-2"><strong>Tipo:</strong> ${externalProfile}</p>
                            <div class="bg-blue-50 p-4 rounded">
                                <div class="grid grid-cols-4 gap-2 text-center text-sm">
                                    <div><strong class="text-red-600">D</strong><br>${externalNormalized.D}%</div>
                                    <div><strong class="text-yellow-600">I</strong><br>${externalNormalized.I}%</div>
                                    <div><strong class="text-green-600">S</strong><br>${externalNormalized.S}%</div>
                                    <div><strong class="text-blue-600">C</strong><br>${externalNormalized.C}%</div>
                                </div>
                            </div>
                            <div class="mt-3 text-sm">
                                <p><strong>¬øQu√© significa?</strong> Es la "m√°scara" que usas en el trabajo - c√≥mo crees que debes comportarte para tener √©xito en tu entorno laboral.</p>
                                <p class="mt-2"><strong>Ejemplo:</strong> ${externalProfile.includes('D') ? 'En el trabajo, sientes que debes ser m√°s directo y tomar decisiones r√°pidas, aunque naturalmente prefieras consenso.' : externalProfile.includes('I') ? 'En la oficina, crees que debes ser m√°s sociable y persuasivo para influir en tu equipo.' : externalProfile.includes('S') ? 'En tu trabajo, piensas que debes ser m√°s cooperativo y evitar conflictos para mantener el ambiente.' : 'En el entorno laboral, crees que debes ser m√°s detallista y seguir procedimientos estrictos.'}</p>
                            </div>
                        </div>

                        <div class="bg-white border-2 border-purple-200 rounded-lg p-4 hidden-section" id="summaryProfileSection">
                            <h3 class="subsection-title text-purple-700">‚öñÔ∏è Perfil Resumen - "Mi comportamiento t√≠pico"</h3>
                            <p class="text-purple-600 text-sm mb-2"><strong>Tipo:</strong> ${summaryProfile}</p>
                            <div class="bg-purple-50 p-4 rounded">
                                <div class="grid grid-cols-4 gap-2 text-center text-sm">
                                    <div><strong class="text-red-600">D</strong><br>${summaryScores.D}%</div>
                                    <div><strong class="text-yellow-600">I</strong><br>${summaryScores.I}%</div>
                                    <div><strong class="text-green-600">S</strong><br>${summaryScores.S}%</div>
                                    <div><strong class="text-blue-600">C</strong><br>${summaryScores.C}%</div>
                                </div>
                            </div>
                            <div class="mt-3 text-sm">
                                <p><strong>¬øQu√© significa?</strong> Es el promedio entre tu "yo aut√©ntico" y tu "yo laboral" - tu comportamiento m√°s com√∫n en la mayor√≠a de situaciones.</p>
                                <p class="mt-2"><strong>Ejemplo:</strong> ${summaryProfile.includes('D') ? 'Generalmente eres una persona decidida que toma iniciativa, tanto en lo personal como en lo profesional.' : summaryProfile.includes('I') ? 'Normalmente eres sociable y expresivo, disfrutando tanto las reuniones familiares como las de trabajo.' : summaryProfile.includes('S') ? 'Usualmente eres estable y cooperativo, buscando armon√≠a en todos tus entornos.' : 'T√≠picamente eres organizado y detallista, aplicando la misma precisi√≥n en casa y en el trabajo.'}</p>
                            </div>
                        </div>

                        <div class="bg-white border-2 border-orange-200 rounded-lg p-4 hidden-section" id="changePatternSection">
                            <h3 class="subsection-title text-orange-700">üîÑ Patr√≥n de Cambio - "Qu√© tanto me adapto"</h3>
                            <div class="bg-orange-50 p-4 rounded">
                                <div class="grid grid-cols-4 gap-2 text-center text-sm">
                                    <div><strong class="text-red-600">D</strong><br><span class="${changePattern.D > 0 ? 'text-green-600' : changePattern.D < 0 ? 'text-red-600' : 'text-gray-600'}">${changePattern.D > 0 ? '‚Üë' : changePattern.D < 0 ? '‚Üì' : '='} ${Math.abs(changePattern.D)}%</span></div>
                                    <div><strong class="text-yellow-600">I</strong><br><span class="${changePattern.I > 0 ? 'text-green-600' : changePattern.I < 0 ? 'text-red-600' : 'text-gray-600'}">${changePattern.I > 0 ? '‚Üë' : changePattern.I < 0 ? '‚Üì' : '='} ${Math.abs(changePattern.I)}%</span></div>
                                    <div><strong class="text-green-600">S</strong><br><span class="${changePattern.S > 0 ? 'text-green-600' : changePattern.S < 0 ? 'text-red-600' : 'text-gray-600'}">${changePattern.S > 0 ? '‚Üë' : changePattern.S < 0 ? '‚Üì' : '='} ${Math.abs(changePattern.S)}%</span></div>
                                    <div><strong class="text-blue-600">C</strong><br><span class="${changePattern.C > 0 ? 'text-green-600' : changePattern.C < 0 ? 'text-red-600' : 'text-gray-600'}">${changePattern.C > 0 ? '‚Üë' : changePattern.C < 0 ? '‚Üì' : '='} ${Math.abs(changePattern.C)}%</span></div>
                                </div>
                            </div>
                            <div class="mt-3 text-sm">
                                <p><strong>¬øQu√© significa?</strong> Muestra qu√© tanto cambias tu comportamiento entre ser t√∫ mismo y adaptarte al trabajo.</p>
                                <p class="mt-2"><strong>Las flechas indican:</strong></p>
                                <ul class="text-xs ml-4 mt-1">
                                    <li><span class="text-green-600">‚Üë</span> = En el trabajo act√∫as M√ÅS as√≠ que naturalmente</li>
                                    <li><span class="text-red-600">‚Üì</span> = En el trabajo act√∫as MENOS as√≠ que naturalmente</li>
                                    <li><span class="text-gray-600">=</span> = Eres igual en ambos entornos (sin cambio)</li>
                                </ul>
                                <div class="mt-2 p-2 bg-orange-100 rounded text-xs">
                                    <strong>Interpretaci√≥n:</strong> ${Math.abs(changePattern.D) > 15 || Math.abs(changePattern.I) > 15 || Math.abs(changePattern.S) > 15 || Math.abs(changePattern.C) > 15 ? 'Te adaptas significativamente al trabajo. Esto puede generar algo de estr√©s si se mantiene por mucho tiempo.' : 'Mantienes bastante consistencia entre tu forma natural de ser y c√≥mo act√∫as en el trabajo. Esto es saludable.'}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Rest of your HTML code -->
                <!-- Style Card -->
                <div class="section">
                    <h2 class="section-title">Tarjeta de Estilo</h2>
                    <div class="bg-indigo-50 p-4 rounded-lg mb-4">
                        <p class="text-indigo-900"><strong>¬øQu√© es la tarjeta de estilo?</strong></p>
                        <p class="text-indigo-800 text-sm mt-1">Es como tu "manual de instrucciones" personal que explica c√≥mo funciones mejor, qu√© te estresa, y c√≥mo prefieres comunicarte. Imag√≠nalo como las preferencias de tu personalidad.</p>
                    </div>

                    <div class="bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg mt-4">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <!-- Lo que evitas -->
                            <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-500">
                                <h4 class="font-semibold text-red-700 mb-3 flex items-center">
                                    <span class="mr-2">‚ö†Ô∏è</span>Lo que te causa estr√©s:
                                </h4>
                                <p class="text-red-800 font-medium mb-2">${summaryProfile.includes('D') ? 'Rutina y p√©rdida de control' : summaryProfile.includes('I') ? 'Aislamiento y detalles complejos' : summaryProfile.includes('S') ? 'Incertidumbre y cambios s√∫bitos' : 'Cr√≠ticas y decisiones precipitadas'}</p>
                                <p class="text-red-700 text-sm">${summaryProfile.includes('D') ? 'Te frustras cuando tienes que seguir siempre las mismas rutinas o cuando otros toman decisiones que consideras tuyas.' : summaryProfile.includes('I') ? 'Te sientes inc√≥modo trabajando solo por mucho tiempo o cuando tienes que analizar datos muy t√©cnicos.' : summaryProfile.includes('S') ? 'Te genera ansiedad no saber qu√© esperar o cuando hay cambios constantes en los planes.' : 'Te pone nervioso recibir cr√≠ticas directas o tener que decidir r√°pidamente sin analizar opciones.'}</p>
                            </div>

                            <!-- C√≥mo reaccionas bajo presi√≥n -->
                            <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                                <h4 class="font-semibold text-yellow-700 mb-3 flex items-center">
                                    <span class="mr-2">üî•</span>Cuando est√°s bajo presi√≥n:
                                </h4>
                                <p class="text-yellow-800 font-medium mb-2">${summaryProfile.includes('D') ? 'Te vuelves m√°s directo y exigente' : summaryProfile.includes('I') ? 'Puedes desorganizarte o hablar demasiado' : summaryProfile.includes('S') ? 'Te vuelves indeciso o r√≠gido' : 'Tiendes a evitar o ser perfeccionista'}</p>
                                <p class="text-yellow-700 text-sm">${summaryProfile.includes('D') ? 'Cuando hay mucha presi√≥n, puedes volvertepoco paciente con otros y tomar decisiones muy r√°pidas sin consultar.' : summaryProfile.includes('I') ? 'Bajo estr√©s, puedes dispersarte f√°cilmente o hablar mucho sin llegar al punto principal.' : summaryProfile.includes('S') ? 'Cuando hay presi√≥n, te cuesta tomar decisiones o te aferras mucho a lo conocido.' : 'Bajo estr√©s, puedes evitar tareas dif√≠ciles o volverte demasiado detallista y lento.'}</p>
                            </div>

                            <!-- En lo que te enfocas -->
                            <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                                <h4 class="font-semibold text-green-700 mb-3 flex items-center">
                                    <span class="mr-2">üéØ</span>En lo que te enfocas:
                                </h4>
                                <p class="text-green-800 font-medium mb-2">${summaryProfile.includes('D') ? 'Resultados y eficiencia' : summaryProfile.includes('I') ? 'Personas y entusiasmo' : summaryProfile.includes('S') ? 'Cooperaci√≥n y estabilidad' : 'Exactitud y planificaci√≥n'}</p>
                                <p class="text-green-700 text-sm">${summaryProfile.includes('D') ? 'Tu atenci√≥n se centra en lograr metas r√°pidamente y encontrar la forma m√°s eficiente de hacer las cosas.' : summaryProfile.includes('I') ? 'Te importa m√°s c√≥mo se sienten las personas y mantener un ambiente positivo y motivador.' : summaryProfile.includes('S') ? 'Buscas que todos trabajen bien juntos y que haya un ambiente c√≥modo y predecible.' : 'Te concentras en que todo est√© correcto, bien planificado y sin errores.'}</p>
                            </div>
                        </div>

                        <!-- Estrategia preferida -->
                        <div class="mt-6 bg-white p-4 rounded-lg border-2 border-indigo-200">
                            <h4 class="font-semibold text-indigo-700 mb-3 flex items-center">
                                <span class="mr-2">üé™</span>Tu estrategia natural para influir en otros:
                            </h4>
                            <div class="bg-indigo-50 p-4 rounded">
                                <p class="text-indigo-800 font-medium mb-2">${summaryProfile.includes('D') ? 'Autoridad y Control' : summaryProfile.includes('I') ? 'Inspiraci√≥n y Persuasi√≥n' : summaryProfile.includes('S') ? 'Cooperaci√≥n y Apoyo' : 'Datos y Planificaci√≥n'}</p>
                                <p class="text-indigo-700 text-sm">${summaryProfile.includes('D') ? 'Cuando quieres convencer a alguien, usas tu autoridad y presentas argumentos directos sobre por qu√© tu forma es la mejor.' : summaryProfile.includes('I') ? 'Para influir en otros, los inspiras con entusiasmo y los convences de que tu idea ser√° emocionante y beneficiosa.' : summaryProfile.includes('S') ? 'Prefieres trabajar junto con otros, mostrando c√≥mo tu propuesta ayuda a todos y mejora la cooperaci√≥n.' : 'Cuando quieres convencer, presentas datos, an√°lisis y planes detallados que demuestran que tu propuesta es la m√°s segura.'}</p>
                            </div>
                        </div>

                        <!-- Resumen de puntuaciones -->
                        <div class="mt-6">
                            <h4 class="font-semibold text-gray-700 mb-3">Tus puntuaciones DISC:</h4>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-2">
                                        <span class="text-2xl font-bold text-red-600">${summaryScores.D}</span>
                                    </div>
                                    <p class="text-red-600 font-semibold">Dominancia</p>
                                    <p class="text-xs text-red-500">Decisi√≥n y control</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto bg-yellow-100 rounded-full flex items-center justify-center mb-2">
                                        <span class="text-2xl font-bold text-yellow-600">${summaryScores.I}</span>
                                    </div>
                                    <p class="text-yellow-600 font-semibold">Influencia</p>
                                    <p class="text-xs text-yellow-500">Sociabilidad y expresi√≥n</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-2">
                                        <span class="text-2xl font-bold text-green-600">${summaryScores.S}</span>
                                    </div>
                                    <p class="text-green-600 font-semibold">Estabilidad</p>
                                    <p class="text-xs text-green-500">Paciencia y apoyo</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-2">
                                        <span class="text-2xl font-bold text-blue-600">${summaryScores.C}</span>
                                    </div>
                                    <p class="text-blue-600 font-semibold">Cumplimiento</p>
                                    <p class="text-xs text-blue-500">Precisi√≥n y calidad</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- DISC Trait Analysis -->
                <div class="section">
                    <h2 class="section-title">An√°lisis de Rasgos de Personalidad</h2>
                    <div class="bg-teal-50 p-4 rounded-lg mb-4">
                        <p class="text-teal-900"><strong>¬øQu√© son los rasgos de personalidad?</strong></p>
                        <p class="text-teal-800 text-sm mt-1">Son las caracter√≠sticas que te definen y que otros pueden observar en ti. Algunos rasgos siempre est√°n presentes (Permanentes) y otros aparecen seg√∫n la situaci√≥n (Potenciales).</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                        <div class="bg-gradient-to-br from-emerald-50 to-green-100 p-6 rounded-lg border-2 border-emerald-200">
                            <h3 class="subsection-title text-emerald-800 flex items-center mb-4">
                                <span class="mr-2">‚≠ê</span>Caracter√≠sticas Permanentes
                            </h3>
                            <p class="text-emerald-700 text-sm mb-4"><strong>Estas son tus caracter√≠sticas "de siempre"</strong> - las que la gente siempre ve en ti, sin importar la situaci√≥n.</p>

                            <div class="space-y-3">
                                ${personalityTraits.slice(0, 3).map(trait => `
                                    <div class="bg-white p-3 rounded-lg shadow-sm border-l-4 border-emerald-400">
                                        <p class="font-medium text-emerald-900">${trait}</p>
                                        <p class="text-xs text-emerald-700 mt-1">${getTraitDescription(trait, true)}</p>
                                    </div>
                                `).join('')}
                            </div>

                            <div class="mt-4 p-3 bg-emerald-100 rounded-lg">
                                <p class="text-emerald-800 text-sm"><strong>üí° En tu vida diaria:</strong> Estas caracter√≠sticas aparecen autom√°ticamente en tu comportamiento, tanto en casa como en el trabajo. Es tu "esencia" que otros reconocen f√°cilmente.</p>
                            </div>
                        </div>

                        <div class="bg-gradient-to-br from-sky-50 to-blue-100 p-6 rounded-lg border-2 border-sky-200">
                            <h3 class="subsection-title text-sky-800 flex items-center mb-4">
                                <span class="mr-2">üîÑ</span>Caracter√≠sticas Potenciales
                            </h3>
                            <p class="text-sky-700 text-sm mb-4"><strong>Estas aparecen en ciertas situaciones</strong> - son parte de ti, pero las muestras m√°s cuando el contexto lo requiere.</p>

                            <div class="space-y-3">
                                ${personalityTraits.slice(3, 5).map(trait => `
                                    <div class="bg-white p-3 rounded-lg shadow-sm border-l-4 border-sky-400">
                                        <p class="font-medium text-sky-900">${trait}</p>
                                        <p class="text-xs text-sky-700 mt-1">${getTraitDescription(trait, false)}</p>
                                    </div>
                                `).join('')}
                            </div>

                            <div class="mt-4 p-3 bg-sky-100 rounded-lg">
                                <p class="text-sky-800 text-sm"><strong>üí° Cu√°ndo aparecen:</strong> Estas caracter√≠sticas surgen m√°s cuando est√°s en tu zona de comfort o cuando la situaci√≥n espec√≠ficamente las requiere. Pueden ser menos visibles bajo estr√©s.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Ejemplos pr√°cticos -->
                    <div class="mt-6 bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-purple-800 mb-3 flex items-center">
                            <span class="mr-2">üìù</span>Ejemplos de c√≥mo se ven estos rasgos en la pr√°ctica:
                        </h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-white p-4 rounded-lg">
                                <h5 class="font-medium text-purple-700 mb-2">En reuniones de trabajo:</h5>
                                <p class="text-purple-600 text-sm">${summaryProfile.includes('D') ? 'Tomas la iniciativa, propones soluciones directas y buscas llegar r√°pido a decisiones.' : summaryProfile.includes('I') ? 'Compartes ideas con entusiasmo, motivas al equipo y mantienes un ambiente positivo.' : summaryProfile.includes('S') ? 'Escuchas a todos, buscas consenso y te aseguras de que nadie se sienta excluido.' : 'Haces preguntas detalladas, analizas pros y contras antes de opinar.'}</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg">
                                <h5 class="font-medium text-purple-700 mb-2">Cuando hay problemas:</h5>
                                <p class="text-purple-600 text-sm">${summaryProfile.includes('D') ? 'Buscas soluciones r√°pidas, tomas el control de la situaci√≥n y diriges a otros hacia la soluci√≥n.' : summaryProfile.includes('I') ? 'Mantienes el optimismo del equipo, buscas apoyo en otros y enfocas en lo positivo.' : summaryProfile.includes('S') ? 'Ofreces apoyo emocional, buscas mantener la calma y ayudas a que todos cooperen.' : 'Analizas las causas, investigas opciones y propones planes detallados para evitar que se repita.'}</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg">
                                <h5 class="font-medium text-purple-700 mb-2">En proyectos nuevos:</h5>
                                <p class="text-purple-600 text-sm">${summaryProfile.includes('D') ? 'Te emocionas con los desaf√≠os, quieres liderar el proyecto y establecer metas ambiciosas.' : summaryProfile.includes('I') ? 'Generas entusiasmo en el equipo, propones ideas creativas y motivas a todos a participar.' : summaryProfile.includes('S') ? 'Te aseguras de entender bien las expectativas, planificas paso a paso y coordinas con el equipo.' : 'Investigas a fondo el proyecto, haces planes detallados y te aseguras de tener todos los recursos necesarios.'}</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg">
                                <h5 class="font-medium text-purple-700 mb-2">Con compa√±eros dif√≠ciles:</h5>
                                <p class="text-purple-600 text-sm">${summaryProfile.includes('D') ? 'Confrontas directamente los problemas, estableces l√≠mites claros y buscas resoluciones r√°pidas.' : summaryProfile.includes('I') ? 'Intentas ganar su confianza con carisma, buscas puntos en com√∫n y mantienes la comunicaci√≥n abierta.' : summaryProfile.includes('S') ? 'Eres paciente, intentas entender su perspectiva y buscas formas de trabajar en armon√≠a.' : 'Documentas las situaciones, sigues los procedimientos apropiados y buscas soluciones sistem√°ticas.'}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Profile Tension -->
                <div class="section">
                    <h2 class="section-title">Nivel de Adaptaci√≥n y Estr√©s</h2>
                    <div class="bg-amber-50 p-4 rounded-lg mb-4">
                        <p class="text-amber-900"><strong>¬øQu√© es la tensi√≥n de perfil?</strong></p>
                        <p class="text-amber-800 text-sm mt-1">Es como medir qu√© tanto "esfuerzo extra" haces para adaptarte al trabajo. Imagina que tu personalidad natural es como tu ropa c√≥moda de casa, y en el trabajo tienes que usar un traje - la tensi√≥n mide qu√© tan inc√≥modo te sientes con ese "traje laboral".</p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Medidor visual de tensi√≥n -->
                        <div class="bg-white p-6 rounded-lg border-2 border-gray-200">
                            <h4 class="font-semibold text-gray-700 mb-4 flex items-center">
                                <span class="mr-2">üìä</span>Tu nivel de adaptaci√≥n actual:
                            </h4>

                            ${(() => {
                                const maxChange = Math.max(Math.abs(changePattern.D), Math.abs(changePattern.I), Math.abs(changePattern.S), Math.abs(changePattern.C));
                                const tensionLevel = maxChange < 10 ? 'low' : maxChange < 20 ? 'medium' : 'high';
                                const tensionColor = tensionLevel === 'low' ? 'green' : tensionLevel === 'medium' ? 'yellow' : 'red';
                                const tensionText = tensionLevel === 'low' ? 'Bajo' : tensionLevel === 'medium' ? 'Moderado' : 'Alto';

                                return `
                                <div class="relative">
                                    <!-- Medidor visual -->
                                    <div class="w-full bg-gray-200 rounded-full h-6 mb-4">
                                        <div class="bg-${tensionColor}-500 h-6 rounded-full transition-all duration-500" style="width: ${Math.min(maxChange * 2, 100)}%"></div>
                                    </div>
                                    <div class="flex justify-between text-xs text-gray-600 mb-4">
                                        <span>Sin estr√©s</span>
                                        <span>Estr√©s moderado</span>
                                        <span>Mucho estr√©s</span>
                                    </div>

                                    <div class="text-center p-4 bg-${tensionColor}-50 rounded-lg border-2 border-${tensionColor}-200">
                                        <p class="text-${tensionColor}-800 font-bold text-lg">Nivel: ${tensionText}</p>
                                        <p class="text-${tensionColor}-700 text-sm mt-1">(${maxChange}% de adaptaci√≥n m√°xima)</p>
                                    </div>
                                </div>
                                `;
                            })()}
                        </div>

                        <!-- Explicaci√≥n del nivel -->
                        <div class="space-y-4">
                            <div class="bg-white p-4 rounded-lg border-l-4 ${(() => {
                                const maxChange = Math.max(Math.abs(changePattern.D), Math.abs(changePattern.I), Math.abs(changePattern.S), Math.abs(changePattern.C));
                                return maxChange < 10 ? 'border-green-500 bg-green-50' : maxChange < 20 ? 'border-yellow-500 bg-yellow-50' : 'border-red-500 bg-red-50';
                            })()}">
                                <h5 class="font-medium ${(() => {
                                    const maxChange = Math.max(Math.abs(changePattern.D), Math.abs(changePattern.I), Math.abs(changePattern.S), Math.abs(changePattern.C));
                                    return maxChange < 10 ? 'text-green-700' : maxChange < 20 ? 'text-yellow-700' : 'text-red-700';
                                })()}">¬øQu√© significa esto para ti?</h5>
                                <p class="text-sm mt-2 ${(() => {
                                    const maxChange = Math.max(Math.abs(changePattern.D), Math.abs(changePattern.I), Math.abs(changePattern.S), Math.abs(changePattern.C));
                                    return maxChange < 10 ? 'text-green-600' : maxChange < 20 ? 'text-yellow-600' : 'text-red-600';
                                })()}">
                                    ${(() => {
                                        const maxChange = Math.max(Math.abs(changePattern.D), Math.abs(changePattern.I), Math.abs(changePattern.S), Math.abs(changePattern.C));
                                        if (maxChange < 10) {
                                            return '¬°Excelente! Puedes ser t√∫ mismo en el trabajo sin sentir mucha presi√≥n. Tu personalidad natural encaja bien con lo que tu trabajo requiere.';
                                        } else if (maxChange < 20) {
                                            return 'Haces algunos ajustes para adaptarte al trabajo, lo cual es normal. Ocasionalmente puedes sentir un poco de estr√©s, pero generalmente lo manejas bien.';
                                        } else {
                                            return 'Est√°s haciendo cambios significativos para adaptarte al trabajo. Esto puede generar estr√©s si se mantiene por mucho tiempo. Considera buscar formas de ser m√°s aut√©ntico.';
                                        }
                                    })()}
                                </p>
                            </div>

                            <!-- Factor principal de tensi√≥n -->
                            <div class="bg-white p-4 rounded-lg border-2 border-orange-200">
                                <h5 class="font-medium text-orange-700 mb-2">üéØ Tu principal √°rea de adaptaci√≥n:</h5>
                                <p class="font-semibold text-orange-800">
                                    ${Math.abs(changePattern.D) >= Math.abs(changePattern.I) && Math.abs(changePattern.D) >= Math.abs(changePattern.S) && Math.abs(changePattern.D) >= Math.abs(changePattern.C) ?
                                        `Dominancia (${Math.abs(changePattern.D)}% de cambio)` :
                                        Math.abs(changePattern.I) >= Math.abs(changePattern.S) && Math.abs(changePattern.I) >= Math.abs(changePattern.C) ?
                                        `Influencia (${Math.abs(changePattern.I)}% de cambio)` :
                                        Math.abs(changePattern.S) >= Math.abs(changePattern.C) ?
                                        `Estabilidad (${Math.abs(changePattern.S)}% de cambio)` :
                                        `Cumplimiento (${Math.abs(changePattern.C)}% de cambio)`}
                                </p>
                                <p class="text-orange-600 text-sm mt-2">
                                    ${(() => {
                                        const maxFactor = Math.abs(changePattern.D) >= Math.abs(changePattern.I) && Math.abs(changePattern.D) >= Math.abs(changePattern.S) && Math.abs(changePattern.D) >= Math.abs(changePattern.C) ? 'D' :
                                                         Math.abs(changePattern.I) >= Math.abs(changePattern.S) && Math.abs(changePattern.I) >= Math.abs(changePattern.C) ? 'I' :
                                                         Math.abs(changePattern.S) >= Math.abs(changePattern.C) ? 'S' : 'C';
                                        const isIncreasing = changePattern[maxFactor] > 0;

                                        if (maxFactor === 'D') {
                                            return isIncreasing ?
                                                'En el trabajo intentas ser m√°s directo y decisivo de lo que eres naturalmente. Esto puede agotarte si lo mantienes todo el tiempo.' :
                                                'En el trabajo reprimes tu tendencia natural a tomar control y ser directo. Esto puede frustrarte a largo plazo.';
                                        } else if (maxFactor === 'I') {
                                            return isIncreasing ?
                                                'En el trabajo te esfuerzas por ser m√°s sociable y expresivo de lo que eres naturalmente. Esto puede ser agotador en roles muy sociales.' :
                                                'En el trabajo limitas tu expresividad y sociabilidad natural. Esto puede hacerte sentir menos aut√©ntico.';
                                        } else if (maxFactor === 'S') {
                                            return isIncreasing ?
                                                'En el trabajo intentas ser m√°s paciente y cooperativo de lo que eres naturalmente. Esto puede generar frustraci√≥n interna.' :
                                                'En el trabajo sientes presi√≥n para ser menos estable y m√°s √°gil de lo que prefieres naturalmente.';
                                        } else {
                                            return isIncreasing ?
                                                'En el trabajo te sientes presionado a ser m√°s detallista y cuidadoso de lo que eres naturalmente. Esto puede ralentizarte.' :
                                                'En el trabajo sientes que debes ser menos perfeccionista y m√°s r√°pido de lo que prefieres naturalmente.';
                                        }
                                    })()}
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Recomendaciones -->
                    <div class="mt-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-indigo-800 mb-4 flex items-center">
                            <span class="mr-2">üí°</span>Recomendaciones para reducir el estr√©s:
                        </h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${(() => {
                                const maxChange = Math.max(Math.abs(changePattern.D), Math.abs(changePattern.I), Math.abs(changePattern.S), Math.abs(changePattern.C));
                                if (maxChange < 10) {
                                    return `
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">‚úÖ <strong>Mant√©n el equilibrio:</strong> Tienes una buena alineaci√≥n entre tu personalidad y tu trabajo.</p>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">‚úÖ <strong>Sigue as√≠:</strong> Puedes seguir siendo aut√©ntico en tu entorno laboral.</p>
                                        </div>
                                    `;
                                } else if (maxChange < 20) {
                                    return `
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">‚öñÔ∏è <strong>Equilibra tu energ√≠a:</strong> T√≥mate descansos para "recargarte" siendo t√∫ mismo.</p>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">üó£Ô∏è <strong>Comunica tus preferencias:</strong> Habla con tu jefe sobre tu estilo natural de trabajo.</p>
                                        </div>
                                    `;
                                } else {
                                    return `
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">üîÑ <strong>Busca m√°s autenticidad:</strong> Encuentra maneras de usar m√°s tu estilo natural en el trabajo.</p>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">üí¨ <strong>Habla con tu supervisor:</strong> Discute c√≥mo puedes aportar m√°s usando tus fortalezas naturales.</p>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">üè† <strong>Compensa fuera del trabajo:</strong> Dedica tiempo a actividades que te permitan ser completamente t√∫ mismo.</p>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg">
                                            <p class="text-indigo-700 text-sm">üéØ <strong>Considera un cambio:</strong> Si es posible, busca roles que se alineen mejor con tu estilo natural.</p>
                                        </div>
                                    `;
                                }
                            })()}
                        </div>
                    </div>
                </div>
                <!-- Textual Report -->
                <div class="section">
                    <h2 class="section-title">Informe Textual</h2>
                    <p>El informe textual contiene secciones detalladas en lenguaje natural que discuten el comportamiento de ${candidateName.split(' ')[0]}.</p>
                    <div class="space-y-4 mt-4">
                        <div class="border-l-4 border-blue-500 pl-4">
                            <h4 class="font-semibold">1. Generalidades:</h4>
                            <p class="text-sm">${summaryProfile.includes('D') ? `${candidateName.split(' ')[0]} es decidido, orientado a resultados y prefiere tomar el control de las situaciones. Es competitivo y busca desaf√≠os que le permitan demostrar su liderazgo.` : summaryProfile.includes('I') ? `${candidateName.split(' ')[0]} es entusiasta, comunicativo y disfruta interactuando con otros. Le gusta inspirar y motivar a su equipo con su energ√≠a positiva.` : summaryProfile.includes('S') ? `${candidateName.split(' ')[0]} es estable, cooperativo y trabaja a un ritmo constante para producir trabajo de calidad. Prefiere entornos con apoyo y valora la armon√≠a del equipo.` : `${candidateName.split(' ')[0]} es anal√≠tico, preciso y se enfoca en los detalles. Prefiere seguir procedimientos establecidos y asegurarse de que todo est√© bien documentado.`}</p>
                        </div>

                        <div class="border-l-4 border-green-500 pl-4">
                            <h4 class="font-semibold">2. Adaptaci√≥n de Comportamiento:</h4>
                            <p class="text-sm">${Math.abs(changePattern.D) > 10 || Math.abs(changePattern.I) > 10 || Math.abs(changePattern.S) > 10 || Math.abs(changePattern.C) > 10 ? `${candidateName.split(' ')[0]} adapta significativamente su comportamiento para cumplir con las condiciones laborales percibidas, mostrando flexibilidad pero posible tensi√≥n.` : `${candidateName.split(' ')[0]} mantiene una consistencia entre su estilo natural y las demandas del trabajo, sugiriendo una buena alineaci√≥n con su rol actual.`}</p>
                        </div>

                        <div class="border-l-4 border-yellow-500 pl-4">
                            <h4 class="font-semibold">3. Ventajas y Desventajas:</h4>
                            <p class="text-sm"><strong>Ventajas:</strong> ${summaryProfile.includes('D') ? 'Toma decisiones r√°pidas, orientado a resultados, liderazgo natural.' : summaryProfile.includes('I') ? 'Comunicaci√≥n efectiva, motivaci√≥n de equipos, adaptabilidad social.' : summaryProfile.includes('S') ? 'Trabajo en equipo, estabilidad, lealtad y paciencia.' : 'Precisi√≥n, an√°lisis detallado, seguimiento de procedimientos.'}</p>
                            <p class="text-sm"><strong>√Åreas de mejora:</strong> ${summaryProfile.includes('D') ? 'Puede ser impaciente, necesita trabajar en la escucha activa.' : summaryProfile.includes('I') ? 'Necesita enfocarse m√°s en detalles y seguimiento.' : summaryProfile.includes('S') ? 'Puede resistirse al cambio, necesita desarrollar m√°s asertividad.' : 'Puede ser perfeccionista, necesita ser m√°s decisivo.'}</p>
                        </div>

                        <div class="border-l-4 border-red-500 pl-4">
                            <h4 class="font-semibold">4. Estilo de Comunicaci√≥n:</h4>
                            <p class="text-sm">${summaryProfile.includes('D') ? `${candidateName.split(' ')[0]} prefiere comunicaci√≥n directa y eficiente, enfoc√°ndose en resultados y decisiones r√°pidas.` : summaryProfile.includes('I') ? `${candidateName.split(' ')[0]} es expresivo y persuasivo, prefiere la comunicaci√≥n cara a cara y disfruta las interacciones sociales.` : summaryProfile.includes('S') ? `${candidateName.split(' ')[0]} es diplom√°tico y cooperativo, prefiere evitar conflictos y mantener relaciones armoniosas.` : `${candidateName.split(' ')[0]} es preciso y formal, prefiere comunicarse por escrito y con informaci√≥n detallada.`}</p>
                        </div>

                        <div class="border-l-4 border-purple-500 pl-4">
                            <h4 class="font-semibold">5. Toma de Decisiones:</h4>
                            <p class="text-sm">${summaryProfile.includes('D') ? 'Toma decisiones r√°pidas bas√°ndose en objetivos claros y resultados esperados.' : summaryProfile.includes('I') ? 'Considera el impacto en las personas y busca el consenso del grupo antes de decidir.' : summaryProfile.includes('S') ? 'Prefiere discutir con compa√±eros y buscar estabilidad antes de tomar decisiones importantes.' : 'Analiza cuidadosamente todos los datos y considera m√∫ltiples opciones antes de decidir.'}</p>
                        </div>
                    </div>
                </div>
                <!-- Relationship Keynotes -->
                <div class="section">
                    <h2 class="section-title">Keynotes de Relaci√≥n</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-red-50 p-4 rounded-lg">
                            <h3 class="subsection-title text-red-700">Con Personas de Alto Dominio</h3>
                            <p class="text-sm">${summaryProfile.includes('D') ? `${candidateName.split(' ')[0]} puede competir por el liderazgo. Es importante establecer roles claros y enfoques colaborativos.` : `${candidateName.split(' ')[0]} puede sentirse presionado por individuos muy directos. Necesita tiempo para procesar las demandas.`}</p>
                        </div>

                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h3 class="subsection-title text-yellow-700">Con Personas de Alta Influencia</h3>
                            <p class="text-sm">${summaryProfile.includes('I') ? `${candidateName.split(' ')[0]} disfruta las interacciones sociales pero puede distraerse de las tareas importantes.` : `${candidateName.split(' ')[0]} puede encontrar desafiante el estilo expresivo, prefiriendo comunicaci√≥n m√°s estructurada.`}</p>
                        </div>

                        <div class="bg-green-50 p-4 rounded-lg">
                            <h3 class="subsection-title text-green-700">Con Personas de Alta Estabilidad</h3>
                            <p class="text-sm">${summaryProfile.includes('S') ? `${candidateName.split(' ')[0]} comparte valores de cooperaci√≥n y trabajo en equipo, creando relaciones armoniosas.` : `${candidateName.split(' ')[0]} puede necesitar ajustar su ritmo para trabajar efectivamente con personas m√°s pausadas.`}</p>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h3 class="subsection-title text-blue-700">Con Personas de Alto Cumplimiento</h3>
                            <p class="text-sm">${summaryProfile.includes('C') ? `${candidateName.split(' ')[0]} comparte un enfoque anal√≠tico y detallado, funcionando bien en entornos estructurados.` : `${candidateName.split(' ')[0]} puede necesitar m√°s paciencia con los procesos detallados que requieren estas personas.`}</p>
                        </div>
                    </div>
                </div>
                <!-- Glossary of Terms -->
                <div class="section">
                    <h2 class="section-title">Glosario de T√©rminos</h2>
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <dl class="space-y-4">
                            <div>
                                <dt class="font-bold text-red-600">Dominancia (D):</dt>
                                <dd class="text-sm">Factor DISC asociado con el control, la asertividad y la orientaci√≥n a resultados. Las personas con alta dominancia son directas y competitivas.</dd>
                            </div>
                            <div>
                                <dt class="font-bold text-yellow-600">Influencia (I):</dt>
                                <dd class="text-sm">Factor DISC asociado con la sociabilidad y la expresividad. Las personas influyentes son comunicativas y persuasivas.</dd>
                            </div>
                            <div>
                                <dt class="font-bold text-green-600">Estabilidad (S):</dt>
                                <dd class="text-sm">Factor DISC relacionado con la paciencia y la empat√≠a. Las personas estables son cooperativas y comprensivas.</dd>
                            </div>
                            <div>
                                <dt class="font-bold text-blue-600">Cumplimiento (C):</dt>
                                <dd class="text-sm">Factor DISC asociado con la precisi√≥n, detalle y estructura. Las personas con alto cumplimiento prefieren reglas y procedimientos.</dd>
                            </div>
                            <div>
                                <dt class="font-bold">Perfil Interno:</dt>
                                <dd class="text-sm">Representa el estilo natural y las motivaciones internas de la persona, c√≥mo se comporta cuando no hay presiones externas.</dd>
                            </div>
                            <div>
                                <dt class="font-bold">Perfil Externo:</dt>
                                <dd class="text-sm">Refleja c√≥mo la persona cree que debe comportarse en su entorno laboral actual, las adaptaciones que hace.</dd>
                            </div>
                            <div>
                                <dt class="font-bold">Patr√≥n de Cambio:</dt>
                                <dd class="text-sm">Gr√°fico que muestra las diferencias entre los Perfiles Interno y Externo, indicando √°reas de adaptaci√≥n o tensi√≥n.</dd>
                            </div>
                            <div>
                                <dt class="font-bold">Tensi√≥n de Perfil:</dt>
                                <dd class="text-sm">Medida del estr√©s o presi√≥n que experimenta una persona al adaptar su estilo natural a las demandas percibidas del entorno.</dd>
                            </div>
                        </dl>
                    </div>
                </div>
                <!-- Notes -->
                <div class="section">
                    <h2 class="section-title">Notas Importantes</h2>
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <ul class="list-disc list-inside space-y-2 text-sm">
                            <li>Este informe se basa en las respuestas de ${candidateName.split(' ')[0]} al cuestionario DISC, proporcionando una visi√≥n detallada de su personalidad y comportamiento en contextos laborales.</li>
                            <li>Los resultados deben utilizarse como una gu√≠a para el desarrollo personal y profesional, no como una limitaci√≥n de las capacidades individuales.</li>
                            <li>El comportamiento puede variar seg√∫n el contexto, la experiencia y el desarrollo personal continuo.</li>
                            <li>Se recomienda utilizar estos resultados junto con otras evaluaciones y observaciones para obtener una visi√≥n completa del individuo.</li>
                            <li>Este informe es v√°lido en el momento de la evaluaci√≥n y puede cambiar con el tiempo y las circunstancias.</li>
                        </ul>
                    </div>
                </div>
                <!-- Action Buttons -->
                <div class="text-center mt-8 space-x-4">
                    <button onclick="showEvaluation()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded">Realizar Nueva Evaluaci√≥n</button>
                </div>
            `;

            document.getElementById('reportContent').innerHTML = reportHTML;
            document.getElementById('evaluation-section').classList.remove('active');
            document.getElementById('report-section').classList.add('active');

            // Show the hidden sections
            document.getElementById('internalProfileSection').classList.remove('hidden-section');
            document.getElementById('externalProfileSection').classList.remove('hidden-section');
            document.getElementById('summaryProfileSection').classList.remove('hidden-section');
            document.getElementById('changePatternSection').classList.remove('hidden-section');
        }

        function getTraitDescription(trait, isPermanent) {
            const descriptions = {
                'Decidido': isPermanent ? 'Siempre sabes lo que quieres y vas por ello sin dudar.' : 'Cuando la situaci√≥n lo requiere, puedes tomar decisiones firmes.',
                'Directo': isPermanent ? 'Dices las cosas como son, sin rodeos ni diplomacia excesiva.' : 'Puedes ser directo cuando es necesario, aunque prefieres ser m√°s diplom√°tico.',
                'Competitivo': isPermanent ? 'Te gusta ganar y ser el mejor en lo que haces.' : 'Cuando hay competencia, sacas tu lado m√°s competitivo.',
                'Orientado a resultados': isPermanent ? 'Todo lo que haces debe tener un prop√≥sito y resultado claro.' : 'Te enfocas en resultados cuando el proyecto lo demanda.',
                'Independiente': isPermanent ? 'Prefieres trabajar solo y tomar tus propias decisiones.' : 'Puedes trabajar independientemente cuando es necesario.',
                'Entusiasta': isPermanent ? 'Siempre mantienes energ√≠a positiva y contagias alegr√≠a.' : 'Cuando el ambiente lo permite, muestras tu lado m√°s entusiasta.',
                'Persuasivo': isPermanent ? 'Naturalmente convences a otros con tu carisma y comunicaci√≥n.' : 'Puedes ser persuasivo cuando necesitas influir en alguien.',
                'Sociable': isPermanent ? 'Disfrutas estar con gente y haces amigos f√°cilmente.' : 'Te abres socialmente cuando el contexto es apropiado.',
                'Optimista': isPermanent ? 'Siempre ves el lado positivo de las situaciones.' : 'Mantienes optimismo cuando otros lo necesitan.',
                'Comunicativo': isPermanent ? 'Te expresas claramente y disfrutas las conversaciones.' : 'Comunicas efectivamente cuando la situaci√≥n lo requiere.',
                'Estable': isPermanent ? 'Eres consistente y confiable en todas las situaciones.' : 'Proporcionas estabilidad cuando hay mucha incertidumbre.',
                'Paciente': isPermanent ? 'Naturalmente esperas y no te desesperas f√°cilmente.' : 'Puedes ser paciente cuando la situaci√≥n lo demanda.',
                'Cooperativo': isPermanent ? 'Siempre buscas trabajar en equipo y ayudar a otros.' : 'Colaboras m√°s cuando el proyecto requiere trabajo en equipo.',
                'Leal': isPermanent ? 'Eres fiel a tus compromisos, personas y organizaciones.' : 'Muestras lealtad especialmente hacia quienes conf√≠an en ti.',
                'Sistem√°tico': isPermanent ? 'Todo lo organizas paso a paso y con estructura.' : 'Usas sistemas y organizaci√≥n cuando el trabajo lo requiere.',
                'Anal√≠tico': isPermanent ? 'Siempre examinas los detalles antes de actuar o decidir.' : 'Analizas profundamente cuando la decisi√≥n es importante.',
                'Preciso': isPermanent ? 'Te aseguras de que todo est√© correcto y sin errores.' : 'Eres m√°s preciso cuando la exactitud es cr√≠tica.',
                'Consciente': isPermanent ? 'Eres muy responsable y cumplidor por naturaleza.' : 'Muestras m√°s consciencia cuando las responsabilidades aumentan.',
                'Prudente': isPermanent ? 'Siempre consideras riesgos antes de tomar decisiones.' : 'Eres m√°s cauteloso cuando los riesgos son altos.',
                'Culto': isPermanent ? 'Tienes conocimientos amplios y te gusta aprender constantemente.' : 'Demuestras tu conocimiento cuando el tema lo amerita.'
            };

            return descriptions[trait] || (isPermanent ? 'Esta caracter√≠stica te define constantemente.' : 'Esta caracter√≠stica aparece en contextos espec√≠ficos.');
        }

        function showEvaluation() {
            document.getElementById('report-section').classList.remove('active');
            document.getElementById('evaluation-section').classList.add('active');

            // Reset form
            responses = {};
            completedBlocks = 0;
            updateProgress();

            // Clear all radio buttons
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeQuestions();
            updateProgress();
        });
    </script>
</body>
</html>
